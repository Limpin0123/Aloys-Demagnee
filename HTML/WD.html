<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <title>Aloys Demagnée portfolio</title>
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">
    <!--reset stylesheet-->
    <link rel="stylesheet" href="../CSS/reset.css">

    <!--custom stylesheet-->
    <link rel="stylesheet" href="../CSS/variables.css">
    <link rel="stylesheet" href="../CSS/main.css">
    <link rel="stylesheet" href="../CSS/header-footer.css">
    <link rel="stylesheet" href="../CSS/projet.css">
</head>

<body>
    <header>
        <div class="header-main">
            <section class="logo-title-section">
                <img src="../img/logo-limpin-small.png" alt="limpin logo">

                <section class="title-section">
                    <div class="vertical-bar"></div>
                    <div class="title-text">
                        <h2 class="important-h2">Aloys Demagnée</h2>
                        <h2>Game Programming</h2>
                    </div>
                </section>

            </section>

            <nav class="header-page-navigation show-on-pc-layout">
                <div class="vertical-bar"></div>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#Portfolio-section">Portfolio</a></li>
                    <li><a href="../index.html#About-me-section">À propos</a></li>
                </ul>
            </nav>        

            <div class="header-main-sm">

                <a class="sm-logo-gh" target="_blank" href="https://github.com/Limpin0123"></a>
                <a class="sm-logo-li" href="#"></a> <!--ajouter target="_blank" quand le compte linkedin sera créé-->

            </div>
        </div>
        <!--Ne pas oublier d'update la deuxième navigation barre avec la 1er-->
        <nav class="header-page-navigation show-on-mobile-layout">
                <div class="horizontale-bar"></div>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#Portfolio-section">Portfolio</a></li>
                    <li><a href="../index.html#About-me-section">À propos</a></li>
                </ul>
            </nav>  
    </header>

    <section class="project-container">
        <div class="project-title">
            <img src="../Ressources/Withering-Depths/Logo.png" alt="logo of the project">
            <h1>Withering Depths</h1>
        </div>
        <div class="project-first-description">
            <div class="project-side-info marge-right">
                <h2>Pitch & fiche signalétique:</h2>
                <p>Incarnez Préa, un <strong>être sans défense</strong> piégé dans les profondeurs
                    <strong>infectées</strong> et <strong>hostiles</strong>. 
                    Utilisez des phéromones, présentes dans votre environnement
                    pour interagir avec différentes plateformes.
                    <br><br>
                    Withering Depths est un <strong>plateformer PC</strong> alliant <strong>puzzles</strong> et
                    "<strong>die and retry</strong>" avec une <strong>caméra en scrolling horizontal</strong>.
                    <br>Le game designe est pensé pour créer un sentiment d'<strong>inconnu</strong>,
                    <strong>d'imprévisibilité</strong> et d'<strong>hostilité</strong>.
                </p>
            </div>
            <div>
                <video class="project-demo" poster="../Ressources/Withering-Depths/poster.webp" controls>
                    <source src="../Ressources/Withering-Depths/WD-Trailer.mp4">
                </video>
                <div class="project-icon-info">
                    <img src="../img/time-logo.png" alt="time logo">
                    <p>5 mois</p>
                    <img src="../img/team-logo.png" alt="team logo">
                    <p>6</p>
                    <img src="../img/language-logo.png" alt="programming language logo">
                    <p>C#</p>
                    <div class="role-info">
                        <img src="../img/role-logo.png" alt="role in team logo">
                        <p>Programmeur seul</p>
                    </div>
                </div>
            </div>
            <div class="project-side-info marge-left">
                <h2>En bref :</h2>
                <p>
                    Withering Depths est le projet durant lequel j'ai pu <strong>prendre
                    mes marques</strong> dans plusieurs aspects de la production d'un jeu
                    comme le <strong>travail en équipe</strong> sur un projet commun, le moteur
                    <strong>Unity</strong> et le langage de programmation <strong>C#</strong>.
                    <br><br>
                    Ce fut une première expérience dans laquelle j'ai appris les <strong>bases
                    de la conception gameplay</strong> et la gestion d'un <strong>contrôleur 2D</strong>.
                </p>
            </div>
        </div>

        <div class="project-learnings">
            <h2>Mes réalisations sur le projet :</h2>
            <p>
                En tant que seul programmeur de l'équipe, j'ai pris en charge tous les aspects
                de la <strong>programmation</strong>, tout en endossant également le rôle de <strong>game designer</strong> sur ce
                projet. Voici les points clefs de ce projet :
                <br><br>• Le <strong>contrôleur 2D</strong> : Pour obtenir le feeling spécifique, le
                contrôleur a entièrement été <strong>développé sans l'utilisation des RigidBody</strong>
                d'Unity, un <strong>défi conséquent</strong> compte tenu de mes connaissances limitées au
                début du projet. Parmi ses fonctionnalités, il intégrait un <strong>jump buffering</strong>,
                un <strong>coyote time</strong>,  ainsi qu'un <strong>mécanisme de décalage latéral</strong> permettant,
                lorsque le joueur touche le coin d'une plateforme en sautant, de le déplacer
                légèrement sur le côté (si l'espace le permet) afin de prolonger son saut.
                <br><br>• Les <strong>UIs et Inputs</strong> : Par souci de maintenabilité, ils ont été réalisés
                à l'aide du <strong>nouveau Input System</strong> d'Unity.
                <br><br>• Les <strong>caméras</strong> : Nous recherchions un contrôle précis sur nos caméras, ce
                qui m'a amené à créer un <strong>script de caméra personnalisé</strong>.
                Ce système, bien que basique, permettait d'<strong>alterner entre différentes caméras</strong> lorsque
                le joueur entre dans des triggers, et de <strong>contraindre la position de la caméra</strong>
                dans une zone définie.
                <br><br>• Les <strong>éléments de gameplay</strong> : Fidèle à notre concept, les
                mécaniques étaient relativement complexes à réaliser pour un débutant.
                Withering Depths propose <strong>trois types de plateformes</strong>, chacune <strong>réagissant
                différemment à trois phéromones</strong> distinctes, entre lesquelles le joueur
                peut alterner. Ces deux éléments combinés impliquaient
                de nombreux défis techniques comme la <strong>gestion dynamique des états</strong> et des
                <strong>collisions</strong>, complexifiée par l'absence de RigidBody sur l'avatar joueur.
                <br><br>• <strong>Système de sauvegarde</strong> : Puisque Withering Depths est en partie un jeu "die
                and retry", nous avons souhaité implémenter un système sauvegardant dans les
                <strong>PlayerPrefs</strong> le nombre de morts et le temps nécessaire à la complétion
                d'un niveau.
            </p>
        </div>

        <div class="project-learnings">
            <h2>Axes d'Amélioration :</h2>
            <p> 
                Lors de ce projet, une des erreurs majeures a été de ne pas <strong>utiliser de
                Game Manager</strong> pour centraliser certaines parties de mes scripts, ce qui a
                grandement <strong>compliqué la relecture et la maintenance</strong> des différents
                composants. Par manque de connaissances, de nombreux éléments, comme les
                interactions avec les plateformes, étaient peu optimisés, voire <strong>placés
                dans des scripts qui ne sont pas responsables de leur logique</strong>, comme
                l'effet d'une plateforme intégré directement dans le script du
                contrôleur. Un dernier point faible réside dans ce même script.
                Étant le script principal, j'y ai consacré une grande partie
                de la production, ce qui le rend <strong>difficilement lisible par endroits</strong>.
                Je <strong>ne maîtrisais pas encore bien le principe de division du code</strong>, ce qui
                fait que l'intégralité du contrôleur est contenue dans ce seul script.
                <br><br> Ces erreurs m'ont cependant permis de comprendre l'<strong>importance
                d'une architecture claire</strong> dès le début d'un projet et m'ont poussé à
                <strong>adopter des pratiques plus modulaires</strong> dans mes travaux suivants.
            </p>
        </div>

        <div class="project-gallery">
            <h2>Galerie :</h2>
            <div class="gallery-area">
                <img src="../Ressources/Withering-Depths/Jump-Buffering.gif" alt="showing jump buffering">
                <img src="../Ressources/Withering-Depths/Coyoter-Time.gif" alt="showing coyote time">
                <img src="../Ressources/Withering-Depths/Controler-showcase.gif" alt="Gif controler">
                <img src="../Ressources/Withering-Depths/Plateformes.png" alt="all 3 plateformes">
                <img src="../Ressources/Withering-Depths/Coulissante.png" alt="showing 'Coulissante' in action">
                <img src="../Ressources/Withering-Depths/Gluante.png" alt="showing 'gluante' in action">
                <img src="../Ressources/Withering-Depths/Piege.png" alt="Png showing 'piege' in action">
                <img src="../Ressources/Withering-Depths/Pheromones.gif" alt="pheromone in action">
                <video controls><source src="../Ressources/Withering-Depths/LD-showcase.mp4"></video>
                <img src="../Ressources/Withering-Depths/LD1.png" alt="first environnement">
                <img src="../Ressources/Withering-Depths/LD2.png" alt="second encironnement">
            </div>
        </div>

        <div id="lightbox">
            <p onclick="showImage(currentIndex - 1)"><</p>
            <img id="lightbox-img" src="../img/No-Thumbnail.png">
            <p onclick="showImage(currentIndex + 1)">></p>
        </div>

    </section>

    <footer>
        <div class="contact-container">
            <h2>Me contacter :</h2>
            <a href="mailto:demagnee.aloys@gmail.com" class="sm-logo-mail"></a>
            <a href="#" class="sm-logo-li"></a>
        </div>
    </footer>

    <script>
        const images = Array.from(document.querySelectorAll(".gallery-area img"));
        images.forEach((img, index) => {
            img.addEventListener("click", () => openLightbox(index))
        })
        let currentIndex = 0;

        function openLightbox(index){
            const lightbox = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');
            currentIndex = index;
            img.src = images[currentIndex].src;
            lightbox.style.display = 'flex';
        }
        function closeLightbox(){
            document.getElementById('lightbox').style.display = 'none';
        }
        function showImage(index){
            if(index < 0){
                index = images.length -1;
            }
            if(index > images.length -1){
                index = 0
            }
            if(index >= 0 && index < images.length){
                const img = document.getElementById('lightbox-img');
                img.src = images[index].src;
                currentIndex = index;
            }
        } 
        
        document.addEventListener('keydown', function(e){
            const lightbox = document.getElementById('lightbox');
            if(lightbox.style.display === 'flex'){
                if(e.key === 'ArrowRight'){
                    showImage(currentIndex + 1);
                }else if(e.key === 'ArrowLeft'){
                    showImage(currentIndex - 1);
                }else if(e.key === 'Escape'){
                    closeLightbox();
                }
            }
        });
        document.getElementById('lightbox').addEventListener('click', (e) => {
            if(e.target.id === 'lightbox'){
                closeLightbox();
            }
        })
    </script>
</body>
</html>